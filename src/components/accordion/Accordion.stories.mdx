import { Canvas, Meta, Story } from '@storybook/addon-docs';

import Accordion from './Accordion';

<Meta title="Components/Accordion" component={Accordion} />

export const Template = (args) => <Accordion {...args} />;

# Accordion

An accordion is a pairing of a heading and related content below it. Without the functionality of the accordion, the heading and content should still make sense as a pair. For accessiblity, this is how we should think about how to write the markup and functionality for an accordion.

## Best Practices

### Accordion Heading

The accordion heading should fit in the structure of the page, so it's important to give the editor the ability to change the heading level when inserting an accordion. A heading level 2 is a sensible default.

In order to make a heading element clickable, a button element is wrapped around its text content. This button makes the heading focusable and allows communication of the current state of the accordion (open or closed).

#### Button Attributes

These attributes connect the heading button to the accordion content.

- `id`: A unique ID
- `aria-expanded`: Either true or false, update when the user opens or closes the accordion.
- `aria-controls`: The ID of the accordion content element.

### Accordion Content

To hide the content programmatically, `visibility: hidden` is used. This prevents a screen reader from being able to navigate to any of the content when the accordion is closed.

#### Content Attributes

These attributes connect the heading content to the accordion button.

- `id`: A unique ID
- `aria-labelledby`: The ID of the accordion heading button.
- `role="region"`: This attribute groups the accordion content.

## Example

<Canvas>
  <Story
    name="Accordion"
    args={{
      heading: 'Accordion Heading',
      headingLevel: 2,
      content: '<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque sagittis vestibulum ex, ut hendrerit massa pharetra ut. Nunc et lacinia nulla, sollicitudin laoreet quam. Sed sodales ex ligula. Mauris in sagittis mauris. Morbi ac dapibus leo, non suscipit tellus. Nam ornare fermentum odio, vel lacinia arcu. Sed auctor lobortis felis, vel molestie risus interdum maximus. Aliquam gravida cursus mollis. Sed tempor urna ac justo efficitur, eget tempor turpis facilisis. Ut euismod elit quis lectus lobortis, ut semper metus finibus. Vivamus ut sapien ornare sem placerat tincidunt eget ut mauris. Phasellus tincidunt ipsum ac fringilla malesuada. Aliquam dictum lectus nec ex aliquet auctor.</p>',
    }}>
    {Template.bind({})}
  </Story>
</Canvas>
